<!DOCTYPE html>
<html lang="zh">
<head>



    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>趣加 - 首页</title>




    
    <script>
        document.addEventListener('plusready', function() {  
    var webview = plus.webview.currentWebview();  
    plus.key.addEventListener('backbutton', function() {  
        webview.canBack(function(e) {  
            if(e.canBack) {  
                webview.back();  
            } else {  
                webview.close(); //hide,quit  
                //plus.runtime.quit();  
            }  
        })  
    });  
});
    </script>
















    
    <!-- 引入库 -->
    <script src="//static2.pgaot.com/Assets/js/jquery-2.2.4.min.js"></script> <!-- jQuery -->
    <script src="//static2.pgaot.com/Assets/js.class/pgdbs.class.js"></script> <!-- 核心逻辑 -->
    <script src="//shequ.pgaot.com/AdminPages/pages/Mysqldb/vip/pickduckDBJQ.b66a97b2545342a3c381c038df557eef7a628aeee8312e1dd8a5a29bcb08c7d3.js"></script> <!-- 查询HTML的资源库 -->
    <script src="//static2.pgaot.com/Assets/js/sipg_jcokxlcsd9.js"></script> <!-- 签名 -->

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; background-color: #f5f5f5; }
        
        /* 搜索框 */
        .search-bar {
            display: flex;
            align-items: center;
            padding: 10px;
            background: white;
        }
        .search-input {
            flex: 1;
            padding: 10px;
            border-radius: 20px;
            background: #eee;
            border: none;
        }

        /* 轮播大图 */
        .banner {
            width: 100%;
            height: 0;
            padding-bottom: 56.25%;
            background: url('https://static.codemao.cn/pickduck/ry5Ve7pnyl.jpeg?hash=FlL_sH5yuEKeKQ1QvDSwG1xWTuK-') center/cover no-repeat;
            cursor: pointer;
        }

        /* 小圆圈按钮 */
        .circle-menu {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            padding: 15px;
            background: white;
        }
        .circle-menu .item {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 20%;
            padding: 10px;
            cursor: pointer;
        }
        .circle-menu img {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            margin-bottom: 5px;
        }
        .circle-menu span {
            font-size: 14px;
        }

        /* 动态广场 */
        .dynamic-square {
            background: white;
            padding: 15px;
            margin-top: 10px;
        }
        .dynamic-item {
            margin-bottom: 15px;
            cursor: pointer;
        }
        .dynamic-item img {
            width: 100%;
            border-radius: 10px;
        }
        .dynamic-item p {
            text-align: center;
            margin-top: 5px;
            font-size: 14px;
        }

        /* 底部导航栏 */
        #tabbar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            display: flex;
            background: white;
            border-top: 1px solid #ddd;
            padding: 10px 0;
        }
        .tab { 
            flex: 1; 
            text-align: center; 
            font-size: 14px; 
            text-decoration: none; 
            color: gray;
        }
        .tab img { width: 24px; height: 24px; display: block; margin: 0 auto 5px; }
        .active { color: blue; font-weight: bold; }
    </style>
</head>
<body>

    <!-- 搜索栏 -->
    <div class="search-bar">
        <input type="text" class="search-input" placeholder="搜索">
    </div>

    <!-- 轮播大图 -->
    <div class="banner" onclick="openWeb('https://ffeixing.github.io/fun')"></div>

    
    <!-- 小圆圈菜单 -->
    <div class="circle-menu">
        <div class="item" onclick="openWeb('https://ffeixing.github.io/qjyy/qujia/article.html?id=1742709288')"><img src="https://static.codemao.cn/pickduck/BJ5UPgNh1x.jpeg?hash=FizEUnL6cbKeLz-VbddahBZ1MEq_"><span>公告</span></div>






        <div class="item" onclick="openWeb('')">


<a href="https://ccp.cloudroo.top/?type=player&id=218485266">
<img src="https://static.codemao.cn/pickduck/Sy35DeEn1l.jpeg?hash=Fq5bH1KdfvTtCjm42C-wJmTvO_QK"></a>

<a href="https://ccp.cloudroo.top/?type=player&id=218485266"  target="opentype"style="text-decoration: none;color: black;"><span>直播</span></a></div>





        <div class="item" onclick="openWeb('https://ffeixing.github.io/qjyy/qujia/article.html?id=1742612391')"><img src="https://static.codemao.cn/pickduck/rJ7yOg4nye.jpeg?hash=FrXs4Qs8UrYpZLuhloDBsxM4Vpwn"><span>节目单</span></div>
        <div class="item" onclick="openWeb('https://www.xiaoyuzhoufm.com/podcast/67de5a2e6c9751401abffa2a')"><img src="https://static.codemao.cn/pickduck/ryS2ve4hyx.jpeg?hash=FtwpdxCtrybW4oozEw0k0LItS2Nd"><span>播客</span></div>
        <div class="item" onclick="openWeb('http://ffeixing.github.io/qjyy/qujia/bifenggang')"><img src="https://static.codemao.cn/pickduck/rJK7dlEhkx.jpeg?hash=FpN1ZuJnv6ICUcnQxZDCvE7qAnCE"><span>避风湾</span></div>
        <div class="item" onclick="openWeb('https://www.wjx.cn/vm/mzzbjiv.aspx# ')"><img src="https://static.codemao.cn/pickduck/HkQrdeVhkg.jpeg?hash=FsW7droX6-NYWAsa9MtDc2NDSjZQ"><span>反馈</span></div>
        <div class="item" onclick="openWeb('https://radio.com')"><img src="icon7.png"><span>敬请期待</span></div>
        <div class="item" onclick="openWeb('https://podcast.com')"><img src="icon8.png"><span>敬请期待</span></div>
        <div class="item" onclick="openWeb('https://tree.com')"><img src="icon9.png"><span>敬请期待</span></div>
        <div class="item" onclick="openWeb('https://travel.com')"><img src="icon10.png"><span>敬请期待</span></div>
    </div>

    <!-- 动态广场 -->
    <div class="dynamic-square" id="dynamic-square">
        <h3>动态广场</h3>
    </div>

    <!-- 底部导航 -->
    <div id="tabbar">
        <a href="index.html" class="tab active">
            <img src="https://static.codemao.cn/pickduck/rkljkX2cikx.jpeg">
            <div>首页</div>
        </a>
        <a href="me.html" class="tab">
            <img src="https://static.codemao.cn/pickduck/ryiZQ3qiye.jpeg">
            <div>我的</div>
        </a>
    </div>

    <script>
        function openWeb(url) {
            window.location.href = 'web.html?url=' + encodeURIComponent(url);
        }

        // 查询数据库
        var table1 = new pgdbs(dbs_b66a97b2545342a3c381c038df557eef7a628aeee8312e1dd8a5a29bcb08c7d3);
        table1.onGetData((json, id, url) => {
            
            var container = document.getElementById("dynamic-square");

            json.fields.forEach(item => {
                var div = document.createElement("div");
                div.className = "dynamic-item";
                div.innerHTML = `<img src="${item.picture}" onclick="openWeb('https://ffeixing.github.io/qjyy/qujia/article.html?id=${item.createdAt}')">
                                 <p>${item.title}</p>`;
                container.appendChild(div);
            });
        });

        table1.getTableData({
            page: 1,
            limit: 9999999,
            id: "getTableData",
            filter:'recommend="true"',
        });

        // 搜索功能
        document.querySelector(".search-input").addEventListener("input", function() {
            var keyword = this.value.toLowerCase();
            document.querySelectorAll(".dynamic-item").forEach(item => {
                var title = item.querySelector("p").textContent.toLowerCase();
                item.style.display = title.includes(keyword) ? "block" : "none";
            });
        });
    </script>


    



    <script>




var plusReady = function (callback) {  
    if (window.plus) {  
        callback();  
    } else {  
        document.addEventListener('plusready', callback);  
    }  
};  

plusReady(function () {  
    var firstBack = 0;  
    var handleBack = function () {  
        var currentWebview = plus.webview.currentWebview();  
        var topWebview = plus.webview.getTopWebview();  
        var now = Date.now || function () {  
            return new Date().getTime();  
        };  

        currentWebview.canBack(function (evt) {  
            /**  
             * 有可后退的历史记录，则后退。  
             * 否则，关闭当前窗口。  
             * 如果当前窗口是入口页，那么执行退出的逻辑。  
             */  
            if (currentWebview.id === plus.runtime.appid) {  
                if (!firstBack) {  
                    firstBack = now();  
                    plus.nativeUI.toast('再按一次退出应用');  

                    setTimeout(function () {  
                        firstBack = 0;  
                    }, 2000);  
                } else if (now() - firstBack < 2000) {  
                    plus.runtime.quit();  
                }  
            } else {  
                if (evt.canBack) {  
                    history.back();  
                } else {  
                    currentWebview.close('auto');  
                }  
            }  
        });  
    };  

    plus.key.addEventListener('backbutton', handleBack);  
});
        
    </script>


</body>
</html>
